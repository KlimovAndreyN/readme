Вопросы:
  2. нужен logout!
  3. /api/auth/register саму функциональнность добавления перенести в пользователя?
  4. /api/auth/:id перенести в пользователя /api/users/:id ?
  5. нужна смена пароля! /api/auth/change-password
  6. после регитсрации возвращаю - type: UserRdo, как при getById... где описано что отдать... только id или весь объект?
  7. задействовать настройки подключения к postgres из project/apps/blog/blog.dev.env
    сейчас подключение из project/libs/blog/models/prisma/.env  ? или тут для работы prisma-cli и seed.ts ?
    после выполенения generate DATABASE_URL из project/libs/blog/models/prisma/.env закидывается значением по умолчанию, можно переопределить...
    POSTGRES_HOST и POSTGRES_PORT
    А может и сам prisma/.env слинковать с blog/blog.dev.env?
  8. под windows не водит имя для миграции db:migrate,  выполнил отдельно всю команду из нужного каталога
  9. заполенить данные в mongodb
  10. нужно свое dto для репоста //! public repostedPost: PostId...;  и отдавать детальное
  11. удалить BaseMemoryRepository если не будет использоватся?
  12. всем свойствам в Entity.populate нужно  "?? undefined;"
  13. возможно BlogTagService и вовсе не нужен, сразу в BlogPostReposipory обрабатывать теги
  14. сам добавил "entity.id = document.id; //! временно" в BaseMongoRepository, для created.user.rdo
  15. для Пользователя дополнительный запрос о количестве подписок на него и количестве его комментариев... возможно сделать поля в пользователе или считать, т.к. запрос отдельный
  16. пагинация для комментариев
  17. пагинация для постов
  18. для списка комментариев и нового комментария к посту нужно ли выводить детальную информацию о пользователе, пока оставил userId? а postId нужен?
  19. есть копирвоание либ... "export const PostApiProperty = {"
        может сделать общие либы с описанием?
        еще
          status: HttpStatus.UNAUTHORIZED,
          status: HttpStatus.BAD_REQUEST,
          NotFound: 'Post not found'
  20. нужно ли для ошибок BAD_REQUEST и UNAUTHORIZED описать тело ответа? а как?
    {
       "message": [
          "Type must by one of video, text, quote, photo, link"
       ],
         "error": "Bad Request",
        "statusCode": 400
      }
  21. проверка существования поста по id, в комментариях и постах
        будет еще навешана проверка - валидатор?
        перед вставкой вызвать поиск? через BlogPostService или BlogPostRepository
          а что правильней использовать Service или Repository
        обработать try.... Foreign key constraint failed on the field: `comments_post_id_fkey (index)`
  22. если будем валидировать userId и postId, то добавить/убрать в/из описания ответов BadRequest
          MongoIdValidationPipe, а для GUID?
          в комментариях и постах
  23. у всех контоллеров/controller не прописано возвращаемое занчение
  24. для поста с типом фото, как загружать картинку, после добавления или сразу?
  25. черновики других пользоватетлей доступны при запросе детальной информаций о посте?
        в DetailPostRdo оставил State
  26. проверка .env
        [Account JWTConfig Validation Error]: "accessTokenSecret" is required  / accessTokenSecret: Joi.string().required(),
        сделавть чтоб писал "не указан JWT_ACCESS_TOKEN_SECRET!"
  27. entity.id = undefined; //! пустая строка из базового класса и id не гененируется
        А в тегах вы зывается конструктор с объектом и populate записавает в _id undefined
  28. при получении поста для тегов отдавать только заголовки?
        добавил в rdo:
          @Transform(({ value }) => value.map((item: { title: string; }) => item.title))
  29. пост с типом фото, как сразу грузить файл в dto при создании илии обновлении, нужно позже убрать из проверок imagePath


Заметки:
  1. как же выводить подтипы ....
    не сработало export type ReturnTypeToPOJOFunction<T extends StorableEntity<T>> = ReturnType<T['toPOJO']>;
    а как T['id']
  2. get-mongoose-options.ts - а как добраться
    из
      useFactory: async (config: ConfigService) => {
    к
      private readonly databaseConfig: ConfigType<typeof mongoDbConfig>
    чтобы заменить
      config.get<string>(ConfigAlias.MongoDbUsername)
    на
      databaseConfig.username
  3. а можно делать какие то алиасы или константы в project.json например для "cwd": "libs/blog/models/prisma"
  4. проверить в модулях
      - заменить " на '?
      - поискать <from ">
      - поискать <from '@> и переносом строки разделить и сгруппировать
      - еще <, }>
      - проверить неиспользуемые импорты
  5. Title: { description: 'The post title for types: video and text',
    все ограничения перечислены в PostFieldsByType

